define(["app","apps/dashboard/show/show_view","apps/commons/pagination/paginate","apps/channels/list/list_view","handlebars","text!apps/channels/list/templates/list_layout_template_without_categories_link.html"],function(e,t,n,r,i,s){return e.module("DashboardApp.Channels.List",function(e,o,u,a,f,l){e.Controller={listChannelsEnabled:function(o){channels_collection=new n.Collection,channels_collection.url=window.api_endpoint+"/api/users/"+window.user_id+"/channels?enabled="+o;var u=new r.Layout({template:i.compile(s)}),a=new n.Layout;u.on("show",function(){a.on("render",function(){e.Controller._fetchChannelCollectionEnabled(channels_collection,a,o)}),u.index_medium_Region.show(a)}),t.create(u)},listChannels:function(o){requirejs(["apps/channels/list/list_controller"],function(u){channels_collection=new n.Collection,channels_collection.url=window.api_endpoint+"/api/users/"+window.user_id+o;var a=new r.Layout({template:i.compile(s)}),f=new n.Layout;a.on("show",function(){f.on("render",function(){e.Controller._fetchChannelCollectionEnabled(channels_collection,f)}),a.index_medium_Region.show(f)}),t.create(a)})},_fetchChannelCollectionEnabled:function(e,t,i){requirejs(["apps/commons/list/listView","text!apps/channels/list/templates/composite_list_template.html","text!apps/dashboard/channels/list/templates/itemViewTemplate.html","text!apps/dashboard/channels/list/templates/itemPendingViewTemplate.html"],function(s,o,u,a){e.fetch({reset:!0,success:function(s){e.getPage(1),t.pages_region.show(new n.PaginationView({collection:e})),i?template=u:template=a,t.list_region.show(new r.ItemsListView({collection:e,templateItemView:template,template:o,columns:6}))},error:function(){requirejs(["apps/commons/errors/404"],function(e){t.pages_region.show(new e.NotFound)})},silent:!0})})}}}),e.DashboardApp.Channels.List.Controller});