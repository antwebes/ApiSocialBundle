define(["app","apps/static/show/show_view","apps/dashboard/dashboard_app"],function(e,t){return e.module("ChannelsApp",function(e,t,n,r,i,s){e.startWithParent=!1,e.onStart=function(){},e.onStop=function(){}}),e.module("Routers.ChannelsApp",function(e,n,r,i,s,o){e.Router=i.AppRouter.extend({appRoutes:{"rooms(/)":"listOutstandingChannels","rooms/page/:page(/)(?:criterion)":"listChannels","rooms/list(?:criterion)":"listFilterChannels","rooms/:id/edit":"editChannel","rooms/:id/edit-moderators":"editModerators",":slug":"showChannel","rooms/categories":"showCategories","users/:user_id/channels/owner":"showChannelsUserOwnes","users/:user_id/channels/owner/:page":"showChannelsUserOwnes","users/:user_id/channels/moderator":"showChannelsUserModerates","users/:user_id/channels/moderator/:page":"showChannelsUserModerates","users/:user_id/channels/fan":"showChannelsUserIsFan","users/:user_id/channels/fan/:page":"showChannelsUserIsFan"}});var u=function(e){n.startSubApp("ChannelsApp");var t=Array.prototype.slice.call(arguments,1);e.apply(this,t)},a={listChannels:function(e,t){require(["apps/channels/list/list_controller"],function(n){u(n.listChannels,e,t)})},listFilterChannels:function(e){require(["apps/channels/list/list_controller"],function(t){u(t.listChannels,1,e)})},showChannel:function(e){require(["apps/channels/show/show_controller"],function(t){u(t.showChannel,e)})},listOutstandingChannels:function(){require(["apps/channels/list/list_controller"],function(e){u(e.listOutstandingChannels)})},showChannelsUserOwnes:function(e,t){require(["apps/channels/list/user_channels_controller"],function(n){u(n.showChannelsUserOwnes,e,t)})},showChannelsUserModerates:function(e,t){require(["apps/channels/list/user_channels_controller"],function(n){u(n.showChannelsUserModerates,e,t)})},showChannelsUserIsFan:function(e,t){require(["apps/channels/list/user_channels_controller"],function(n){u(n.showChannelsUserIsFan,e,t)})},showCategories:function(){s.ajax({url:document.URL,headers:{"X-PJAX":"true"}}).success(function(e){var r=new t.Show({html:s(".page-content",e)});n.body_container_main_Region.show(r)})},editChannel:function(e){require(["apps/channels/show/show_controller"],function(t){u(t.showChannel,e,!0)})},editModerators:function(e){require(["apps/channels/edit/edit_controller"],function(t){u(t.editModerators,e)})}};n.on("channels:outstanding",function(){n.navigate("rooms/"),a.listOutstandingChannels()}),n.on("channels:filter",function(e){n.navigate("rooms/list?"+e),a.listFilterChannels(e)}),n.on("channel:edit-moderators",function(e){n.navigate("rooms/"+e+"/edit-moderators"),a.editModerators(e)}),n.on("channel:edit",function(e){n.navigate("rooms/"+e+"/edit"),a.editChannel(e)}),n.on("contacts:list",function(){n.navigate("contacts"),a.listContacts()}),n.on("contacts:filter",function(e){e?n.navigate("contacts/filter/criterion:"+e):n.navigate("contacts")}),n.on("channel:show",function(e,t){n.navigate(t),a.showChannel(e)}),n.addInitializer(function(){new e.Router({controller:a})})}),e.ChannelsAppRouter});