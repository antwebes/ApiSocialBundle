define(["app"],function(e){return e.module("MessagesApp.Composer",function(e,t,n,r,i,s){e.Controller={Compose:function(e){requirejs(["entities/threads","apps/messages/composer/compose_view"],function(n,r){var i=new n.NewThread({recipient:e?e:""}),s=new r.ComposeView({model:i});s.on("compose:submit",function(e){e.save(null,{success:function(){t.trigger("messages:index")}})}),t.body_container_main_Region.show(s)})}}}),e.MessagesApp.Composer.Controller});