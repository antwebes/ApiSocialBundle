define(["apps/messages/messages_app"],function(e){return describe("MessagesApp.Router routes",function(){beforeEach(function(){this.routeIndexSpy=sinon.spy(),this.routeSentSpy=sinon.spy(),this.routeShowThreadSpy=sinon.spy(),this.routeComposeSpy=sinon.spy();var t={index:this.routeIndexSpy,sent:this.routeSentSpy,showThread:this.routeShowThreadSpy,compose:this.routeComposeSpy};this.router=new e.app.MessagesApp.Router({controller:t});try{Backbone.history.start({silent:!0,pushState:!0})}catch(n){}this.router.navigate("social-dinamic/app/SpecRunner.html")}),afterEach(function(){this.router.navigate("social-dinamic/app/SpecRunner.html")}),it("fires the index action with the /messsage/ route",function(){this.router.navigate("/me/messages/",!0),expect(this.routeIndexSpy).toHaveBeenCalled()}),it("fires the sent action with the /messsage/sent route",function(){this.router.navigate("/me/messages/sent",!0),expect(this.routeSentSpy).toHaveBeenCalled()}),it("fires the compose action with the /messsage/compose route",function(){this.router.navigate("/me/messages/compose",!0),expect(this.routeComposeSpy).toHaveBeenCalled()}),it("fires the showThread action with the /messsage/ID_OF_THREAD route",function(){this.router.navigate("/me/messages/1",!0),expect(this.routeShowThreadSpy).toHaveBeenCalled(),expect(this.routeShowThreadSpy).toHaveBeenCalledWith("1")})}),{name:"messages_router_spec"}});