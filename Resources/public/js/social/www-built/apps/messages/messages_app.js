define(["app"],function(e,t){return e.module("MessagesApp",function(e,t,n,r,i,s){e.startWithParent=!1}),e.module("MessagesApp",function(e,t,n,r,i,s){e.Router=r.AppRouter.extend({appRoutes:{"me/messages/":"index","me/messages/sent":"sent","me/messages/compose":"compose","me/messages/:threadId":"showThread"}});var o=function(e,n){t.startSubApp("MessagesApp"),requirejs(e,n)},u={index:function(){o(["apps/messages/index/index_controller"],function(e){e.Index()})},sent:function(){o(["apps/messages/index/index_controller"],function(e){e.Sent()})},showThread:function(e){o(["apps/messages/index/index_controller"],function(t){t.ShowThread(e)})},compose:function(e){o(["apps/messages/index/index_controller"],function(t){t.Compose(e)})}};t.on("messages:index",function(){t.navigate("me/messages/"),u.index()}),t.on("messages:sent",function(){t.navigate("me/messages/sent"),u.sent()}),t.on("messages:showThread",function(e){t.navigate("me/messages/"+e),u.showThread(e)}),t.on("messages:compose",function(e){var n="me/messages/compose";e&&(n=n+"/"+e),t.navigate(n),u.compose(e)}),t.addInitializer(function(){new e.Router({controller:u})})}),e.MessagesApp});