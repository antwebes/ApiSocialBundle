define(["app","text!apps/commons/list/templates/composite.html","text!apps/commons/list/templates/itemViewTemplate.html","apps/commons/list/emptyView","text!apps/commons/list/templates/loading.html","util/lazyloaderhelper","spin.jquery"],function(e,t,n,r,i,s){return e.module("Commons.List",function(e,o,u,a,f,l){var c=a.ItemView.extend({tagName:'li class="col-xs-3"',template:n,initialize:function(e){this.tagName=this.options.tagName,this.delegateEventsToParentView(),e.lazy&&s(this)},templateHelpers:function(){var e=this;return{src_or_data:function(){return e.options.lazy?'class="lazy" data-original=':"src="}}},serializeData:function(){var e=function(t){var n={};return l.each(t.attributes,function(t,r){l.isFunction(t.toJSON)?n[r]=e(t):n[r]=t}),n},t=e(this.model);return l.extend(t,{sizeImage:this.options.sizeImage}),t},delegateEventsToParentView:function(){var e=/^(\S+)\s*(.*)$/;if(this.options.toParentEvents){var t=this.options.toParentEvents;for(var n in t){var r=t[n],i=n.match(e),s=i[1],o=i[2];this.delegateEventToParentView(s,o,r)}}},delegateEventToParentView:function(e,t,n){var r=this.options.parentView,i=l.bind(r[n],r,this);t===""?this.$el.on(e,i):this.$el.on(e,t,i)}});e.CompositeView=u.Marionette.CompositeView.extend({tagName:'ul class="row list-unstyled"',itemView:c,emptyView:r.EmptyView,template:t,itemViewOptions:function(e,t){var n={template:this.options.templateItemView};return this.options.tagNameItemView&&l.extend(n,{tagName:this.options.tagNameItemView}),this.options.sizeImage&&(f.isPlainObject(this.options.sizeImage)?l.extend(n,{sizeImage:this.options.sizeImage}):l.extend(n,{sizeImage:{width:this.options.sizeImage,height:this.options.sizeImage}})),this.subviewEvents&&l.extend(n,{toParentEvents:this.subviewEvents,parentView:this}),this.options.lazy&&l.extend(n,{lazy:!0}),this.options.perserveOriginalTemplate&&l.extend(n,{perserveOriginalTemplate:!0}),n}}),e.Loading=a.ItemView.extend({template:i,initialize:function(e){var t=e||{};this.title=t.title||"Loading Data",this.message=t.message||"Please wait, data is loading."},serializeData:function(){return{title:this.title,message:this.message}},onShow:function(){var e={lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"30px",left:"auto"};f("#spinner").spin(e)}})}),e.Commons.List});