<style>
.progress {
    clear:both;
}

.progress .bar {
    background-color: #f60;
}

.themodal-overlay {
    position: fixed;
    bottom: 0;
    left: 0;
    top: 0;
    right: 0;
    z-index: 100000;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
}

.lock {
    overflow: hidden;
}

.popup {
    margin: 25px;
    float: left;
    display: inline-block;
    box-shadow: 0 0 5px #000;
    background-color: #fff;
}
.popup__body {
    margin: 10px 10px 5px;
}

/* jquery.Jcrop.min.css v0.9.12 (build:20130126) */

.jcrop-holder{direction:ltr;text-align:left;}
.jcrop-vline,.jcrop-hline{background:#FFF url(Jcrop.gif);font-size:0;position:absolute;}
.jcrop-vline{height:100%;width:1px!important;}
.jcrop-vline.right{right:0;}
.jcrop-hline{height:1px!important;width:100%;}
.jcrop-hline.bottom{bottom:0;}
.jcrop-tracker{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;height:100%;width:100%;}
.jcrop-handle{background-color:#333;border:1px #EEE solid;font-size:1px;height:7px;width:7px;}
.jcrop-handle.ord-n{left:50%;margin-left:-4px;margin-top:-4px;top:0;}
.jcrop-handle.ord-s{bottom:0;left:50%;margin-bottom:-4px;margin-left:-4px;}
.jcrop-handle.ord-e{margin-right:-4px;margin-top:-4px;right:0;top:50%;}
.jcrop-handle.ord-w{left:0;margin-left:-4px;margin-top:-4px;top:50%;}
.jcrop-handle.ord-nw{left:0;margin-left:-4px;margin-top:-4px;top:0;}
.jcrop-handle.ord-ne{margin-right:-4px;margin-top:-4px;right:0;top:0;}
.jcrop-handle.ord-se{bottom:0;margin-bottom:-4px;margin-right:-4px;right:0;}
.jcrop-handle.ord-sw{bottom:0;left:0;margin-bottom:-4px;margin-left:-4px;}
.jcrop-dragbar.ord-n,.jcrop-dragbar.ord-s{height:7px;width:100%;}
.jcrop-dragbar.ord-e,.jcrop-dragbar.ord-w{height:100%;width:7px;}
.jcrop-dragbar.ord-n{margin-top:-4px;}
.jcrop-dragbar.ord-s{bottom:0;margin-bottom:-4px;}
.jcrop-dragbar.ord-e{margin-right:-4px;right:0;}
.jcrop-dragbar.ord-w{margin-left:-4px;}
.jcrop-light .jcrop-vline,.jcrop-light .jcrop-hline{background:#FFF;filter:alpha(opacity=70)!important;opacity:.70!important;}
.jcrop-light .jcrop-handle{-moz-border-radius:3px;-webkit-border-radius:3px;background-color:#000;border-color:#FFF;border-radius:3px;}
.jcrop-dark .jcrop-vline,.jcrop-dark .jcrop-hline{background:#000;filter:alpha(opacity=70)!important;opacity:.7!important;}
.jcrop-dark .jcrop-handle{-moz-border-radius:3px;-webkit-border-radius:3px;background-color:#FFF;border-color:#000;border-radius:3px;}
.solid-line .jcrop-vline,.solid-line .jcrop-hline{background:#FFF;}
.jcrop-holder img,img.jcrop-preview{max-width:none;}


.js-preview {
    width: 200px;
    height: 200px;
    float: none;
    background-image: url(data:image/gif;base64,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);
}

.js-browse, .js-webcam {

    border-radius: 0px;
    margin: 0px;
}

.preview-group {
    width: 204px;
    height: 250px;
    float: none;
    margin: 0 auto;
    border: 2px solid #aaa;
}

.btn-file {
    position: relative;
    overflow: hidden;
    width: 200px;
}
.btn-file input[type=file] {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 100%;
    min-height: 100%;
    font-size: 999px;
    text-align: right;
    filter: alpha(opacity=0);
    opacity: 0;
    outline: none;
    background: white;
    cursor: inherit;
    display: block;
}
</style>


<div class="container-fluid">
    <div class="row">
        {{^options.profile_hidden}}
        <div class="col-lg-3 col-sm-3 col-md-3 col-xs-12 center">
            <h3>{{user.username}} photo</h3>
            <img src="{{ profile.profile_photo.attributes.path_medium }}"  class="img-circle">
        </div>
        {{/options.profile_hidden}}
        <div class="col-lg-9 col-sm-9 col-md-9 col-xs-12">
            <br>
            <div style="display: none" id="errors" class="alert alert-danger">These image is not valid.</div>
            <br>
            <div class="row">
                <div id="userpic" class="userpic">

                   <div class="preview-group">
                       <div class="js-preview userpic__preview center">



                       </div>
                       <span class="js-browse btn btn-primary btn-file btn-lg col-xs-8 col-xs-offset-2">
                              <i class="fa fa-upload"></i> Browse file<input type="file" name="filedata">
                       </span>
                   </div>

                    <div class="js-upload" style="display: none;">
                        <span class="btn-txt">Uploading</span>
                    </div>

                    <br>
                    <br>
                    <div class="progress progress-success col-xs-1" style="display: none;"><div class="js-progress bar"></div></div>

                </div>

                <div id="webcam" class="webcam" style="display: none;">


                    <div class="preview-group">
                        <div class="js-preview webcam__preview"></div>

                       <span class="js-webcam btn btn-primary btn-file btn-lg col-xs-8 col-xs-offset-2">
                                <span class="btn-txt"><i class="fa fa-camera"></i>  Start webcam</span>
                       </span>
                    </div>

                    <div class="js-upload" style="display: none;">
                         <span class="btn-txt">Uploading</span>
                    </div>

                    <div class="progress progress-success col-xs-1" style="display: none;"><div class="js-progress bar"></div></div>

                </div>
            </div>
            <div class="row">

            <br><br>

             <div class="center">

                 {{#options.profile}}
                     {{#options.profile_hidden}}
                     <input id="want_profile_photo" type="hidden" name="profile_photo" value="1">
                     {{/options.profile_hidden}}
                     {{^options.profile_hidden}}
                     <input id="want_profile_photo" type="checkbox" name="profile_photo" {{#if checked}} checked {{/if}}> Set as profile picture
                     {{/options.profile_hidden}}
                 {{/options.profile}}
             </div>

            <br><br>

            <legend>Upload methods</legend>
                <div class="btn-group">
                    <button type="button" class="up-file btn btn-default active"><i class="fa fa-upload"></i> Photo from file</button>
                    <button type="button" class="up-webcam btn btn-default"><i class="fa fa-camera"></i> Webcam photo</button>

                </div>
            </div>
        </div>
    </div>
</div>



<div id="popup" class="popup" style="display: none;">
    <div class="popup__body"><div class="js-img"></div></div>
    <div style="margin: 0 0 5px; text-align: center;">
        <div class="js-upload btn btn_browse btn_browse_small">Upload</div>
    </div>
</div>



