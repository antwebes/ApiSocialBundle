define(["app"],function(e){return e.module("PhotosApp",function(e,t,n,r,i,s){e.startWithParent=!1,e.on("start",function(t){e.region=t}),e.onStart=function(){},e.onStop=function(){},e.region=undefined,e.display=function(t){e.region=t}}),e.module("Routers.PhotosApp",function(e,t,n,r,i,s){e.Router=r.AppRouter.extend({appRoutes:{"me/photos/upload":"uploadPhoto","photos/:id":"showPhoto","photos/:id/edit":"editPhoto","me/photos":"listPhotos"}});var o=function(e,n){t.startSubApp("PhotosApp",t.container_center_Region),e(n)},u={showPhoto:function(e){require(["apps/photos/show/show_controller"],function(t){o(t.showPhoto,e)})},listPhotos:function(e){require(["apps/photos/list/list_controller"],function(t){e||(e=window.user_id),o(t.listPhotos,e)})},uploadPhoto:function(e){require(["apps/photos/upload/upload_controller"],function(t){o(t.uploadPhoto,e)})},editPhoto:function(e){require(["apps/photos/edit/edit_controller"],function(t){o(t.editPhoto,e)})},changeRegion:function(e){require(["app"],function(t){t.startSubApp("PhotosApp",e),setTimeout(function(){t.ChannelsApp.display(t.body_container_main_Region)},500)})}};t.on("photos:show",function(e){t.navigate("photos/"+e),u.showPhoto(e)}),t.on("photos:upload",function(e){t.navigate("photos/upload"),u.uploadPhoto(e)}),t.on("photos:user:list",function(e){t.navigate("me/"+e+"/photos"),u.listPhotos(e)}),t.on("photos:edit",function(e){t.navigate("photos/"+e+"/edit"),u.editPhoto(e)}),t.on("photos:region",function(e){u.changeRegion(e)}),t.on("photos:me",function(){t.navigate("me/photos"),u.listPhotos()}),t.addInitializer(function(){new e.Router({controller:u})})}),e.PhotosAppRouter});