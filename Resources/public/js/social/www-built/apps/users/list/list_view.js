define(["app","text!apps/users/list/templates/users_list_templates_layout.html","apps/commons/list/listView","util/lazyloaderhelper"],function(e,t,n,r){return e.module("UsersApp.List.View",function(e,i,s,o,u,a){e.Layout=o.Layout.extend({template:Handlebars.compile(t),regions:{index_top_Region:"#index_top",index_medium_Region:"#index_medium",index_bottom_Region:"#index_bottom"}}),e.UsersView=n.CompositeView.extend({subviewEvents:{"click #chat-with-user":"_chatWithUser","click .cboxElement":"_userDetails"},_chatWithUser:function(e){var t=i.request("user:entity",window.user_id);u.when(t).done(function(t){var n={nick:t.get("username"),"private":e.model.get("username")};i.trigger("chat:show",n)})},_userDetails:function(e){var t=e.model;i.trigger("users:show",t.get("username_canonical"),t.get("id"))},initialize:function(){r(this)}})}),e.UsersApp.List.View});