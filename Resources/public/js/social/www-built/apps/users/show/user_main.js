define(["app","text!apps/users/show/templates/user_main.html","handlebars","apps/commons/pagination/paginate"],function(e,t,n,r){return e.module("UsersApp.Show.Main.View",function(e,r,i,s,o,u){e.Layout=s.Layout.extend({template:n.compile(t),events:{"click #photos":"_renderPhotos"},_renderPhotos:function(e){e.preventDefault(),r.trigger("users:photos:list",this.model.get("id"))},regions:{content_Region:".content",channels_own_Region:"#channels_owner",channels_moderator_Region:"#channels_moderator",channels_fan_Region:"#channels_fan"},onRender:function(){this._getChannelsModeratorCollection(),this._getChannelsFanCollection(),this._getChannelsOwnCollection()},_getChannelsModeratorCollection:function(){this._doLayoutChannels(this.model.get("channels_moderated"),this.channels_moderator_Region)},_getChannelsFanCollection:function(){this._doLayoutChannels(this.model.get("channels_fan"),this.channels_fan_Region)},_getChannelsOwnCollection:function(){this._doLayoutChannels(this.model.get("channels"),this.channels_own_Region)},_doLayoutChannels:function(e,t,n){requirejs(["text!apps/users/index/templates/channel_item.html","apps/commons/list/listView"],function(r,s){n=n||9;var o=new i.Collection(e.slice(0,n)),u=new s.CompositeView({collection:o,templateItemView:r,tagName:"div",tagNameItemView:'div class="col-lg-4 col-xs-12"',sizeImage:"100px",lazy:!0});t.show(u)})}})}),e.UsersApp.Show.Main.View});