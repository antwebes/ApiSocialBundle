define(["app","apps/users/me/me_controller"],function(e,t){return e.module("UsersApp",function(e,t,n,r,i,s){e.startWithParent=!1,e.onStart=function(){},e.onStop=function(){}}),e.module("Routers.UsersApp",function(e,t,n,r,i,s){e.Router=r.AppRouter.extend({appRoutes:{"":"index","users/:name-:id":"showUser","users(/)(:page)":"users","me/edit":"editUser","me/change-password":"changePassword","me/create-profile":"createProfile","users/:id/photos":"showUserPhotos","users/:id/message":"sendMessage"}});var o=function(e){t.startSubApp("UsersApp");var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)},u={showUser:function(e,t){require(["apps/users/show/show_controller"],function(n){o(n.showUser,e,t)})},users:function(e){require(["apps/users/list/list_controller"],function(t){o(t.listUsers,e)})},editUser:function(){require(["apps/users/edit/edit_controller"],function(e){o(e.editUser)})},changePassword:function(){require(["apps/users/edit/edit_controller"],function(e){o(e.changePassword)})},createProfile:function(){require(["apps/users/profile_create/profile_controller"],function(e){o(e.createProfile)})},loadMe:function(){require(["apps/users/me/me_controller"],function(e){o(e.loadMe)})},showUserPhotos:function(e){require(["apps/users/photos/photos_controller"],function(t){o(t.listPhotos,e)})},sendMessage:function(e){require(["apps/users/show/show_controller"],function(t){o(t.sendMessage,e)})},index:function(){require(["apps/users/index/index_controller"],function(e){o(e.show)})}};t.on("user:edit",function(){t.navigate("me/edit"),u.editUser()}),t.on("user:changePassword",function(){t.navigate("me/change-password"),u.changePassword()}),t.on("contacts:filter",function(e){e?t.navigate("contacts/filter/criterion:"+e):t.navigate("contacts")}),t.on("users:show",function(e,n){t.navigate("users/"+e+"-"+n),u.showUser(e,n)}),t.on("users:photos:list",function(e){t.navigate("users/"+e+"/photos"),u.showUserPhotos(e)}),t.on("users:messages:send",function(e){t.navigate("users/"+e+"/message"),u.sendMessage(e)}),t.on("users:list",function(){t.navigate("users/"),u.users()}),t.on("users:navbar:me",function(e){var t=typeof e!="undefined"?e:!1;u.loadMe(t)}),t.addInitializer(function(){new e.Router({controller:u}),u.loadMe()})}),e.UsersAppRouter});